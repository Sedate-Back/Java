## Lambda表达式

### 函数式编程思想概述

在数学中，函数就是有输入量、输出量的一套计算方案，也就是“拿数据做操作”

面向对象思想强调“必须通过对象的形式来做事情”

函数式思想则尽量忽略面向对象的复杂语法:“强调做什么，而不是以什么形式去做”

而我们要学习的Lambda表达式就是函数式思想的体现



### Lambda表达式的标准格式

匿名内部类中重写swim()方法的代码分析

- 方法形式参数为空，说明调用方法时不需要传递参数
- 方法返回值类型为void，说明方法执行没有结果返回
- 方法体中的内容，是我们具体要做的事情



Lambda表达式的代码分析

- （）：里面没有内容，可以看成是方法形式参数为空
- ->：用头指向后面要做的事情
- {}：包含一段代码，我们称之为代码块，可以看成是方法体中的内容

**组成3要素： 形式参数、箭头、代码块**

### Lambda表达式的标准格式

Lambda表达式的格式

- 格式：(形式参数) ->{代码块}
- 形式参数：如果有多个参数，参数之间用逗号隔开;如果没有参数，留空即可
- ->：由英文中画线和大于符号组成，固定写法。代表指向动作
- 代码块：是我们具体要做的事情，也就是以前我们写的方法体内容

接口可以是：

带参无返回

不带参有返回值

同时具有参和返回值

```java
public class Test5 {
    public static void main(String[] args) {
        // 用最初始的Lambda方法
        useInter((double a,double b)->{return a+b;});

        // 简化Lambda方法
        useInter((a, b) -> a+b );
        // 简化条件 前面的括号是传参，参数的类型可以省略；
        // 当参数为1个的时候，括号可以省
        // 当没有参数的时候，括号需要留下
        // 执行语句只有一句的时候，可以省略 大括号{} ，分号; 和 return;
    }
    public static void useInter(Inter inter){
        double res = inter.method(12.3, 22.3);
        System.out.println(res);
    }
}

interface Inter{
    double method(double a, double b);
}
```



### Lambda表达式的使用前提

- 有一个接口
- 接口仅有一个方法



### Lambda表达式的省略模式

省略规则:

- 参数类型可以省略，但是有多个参数的情况下，不能只省略一个
- 如果参数有且仅有一个，那么小括号可以省略
- 如果代码块的语句只有一条，可以省略大括号和分号，甚至是return

 

### Lambda和匿名内部类的区别



所需类型不同

- 匿名内部类：可以是接口，也可以是抽象类，还可以是具体类
- Lambda表达式：只能是接口



使用限制不同

- 如果接口中有且仅有一个抽象方法，可以使用Lambda表达式，也可以用匿名内部类
- 如果接口中多于一个抽象方法，只能使用匿名内部类，而不能使用Lambda表达式



实现原理不同

- 匿名内部类：编译之后，产生一个单独的.class字节码文件
- Lambda表达式：编译之后，没有一个单独的.class字节码文件。对应的字节码会在运行的时候动态生成